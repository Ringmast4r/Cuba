import{a as t,i as e}from"./chunks/index-WM9a_obN.js";const n="data-astro-transition-persist",o=["data-astro-transition","data-astro-transition-fallback"],r=new Set;function a(t){const e=t.src?new URL(t.src,location.href).href:t.textContent;return!!r.has(e)||(r.add(e),!1)}function i(t,e){e.replaceWith(t);for(const o of e.querySelectorAll(`[${n}]`)){const e=o.getAttribute(n),r=t.querySelector(`[${n}="${e}"]`);r&&(r.replaceWith(o),"astro-island"===r.localName&&d(o)&&!u(o,r)&&(o.setAttribute("ssr",""),o.setAttribute("props",r.getAttribute("props"))))}s(t)}function s(t){t.querySelectorAll("template[shadowrootmode]").forEach(t=>{const e=t.getAttribute("shadowrootmode"),n=t.parentNode;if(("closed"===e||"open"===e)&&n instanceof HTMLElement){if(n.shadowRoot)return void t.remove();const o=n.attachShadow({mode:e});o.appendChild(t.content),t.remove(),s(o)}})}const c=({activeElement:t,start:e,end:n})=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&("number"==typeof e&&(t.selectionStart=e),"number"==typeof n&&(t.selectionEnd=n)))},l=(t,e)=>{const o=t.getAttribute(n),r=o&&e.head.querySelector(`[${n}="${o}"]`);if(r)return r;if(t.matches("link[rel=stylesheet]")){const n=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${n}"]`)}return null},d=t=>{const e=t.dataset.astroTransitionPersistProps;return null==e||"false"===e},u=(t,e)=>t.getAttribute("props")===e.getAttribute("props"),m=t=>{!function(t){for(const e of t.scripts)!e.hasAttribute("data-astro-rerun")&&a(e)&&(e.dataset.astroExec="")}(t),function(t){const e=document.documentElement,n=[...e.attributes].filter(({name:t})=>(e.removeAttribute(t),o.includes(t)));[...t.documentElement.attributes,...n].forEach(({name:t,value:n})=>e.setAttribute(t,n))}(t),function(t){for(const e of Array.from(document.head.children)){const n=l(e,t);n?n.remove():e.remove()}document.head.append(...t.head.children)}(t);const e=(()=>{const t=document.activeElement;if(t?.closest(`[${n}]`)){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=t.selectionStart,n=t.selectionEnd;return()=>c({activeElement:t,start:e,end:n})}return()=>c({activeElement:t})}return()=>c({activeElement:null})})();i(t.body,document.body),e()};class f extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;signal;constructor(t,e,n,o,r,a,i,s,c,l){super(t,e),this.from=n,this.to=o,this.direction=r,this.navigationType=a,this.sourceElement=i,this.info=s,this.newDocument=c,this.signal=l,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0},signal:{enumerable:!0}})}}class h extends f{formData;loader;constructor(t,e,n,o,r,a,i,s,c,l){super("astro:before-preparation",{cancelable:!0},t,e,n,o,r,a,i,s),this.formData=c,this.loader=l.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class p extends f{direction;viewTransition;swap;constructor(t,e){super("astro:before-swap",void 0,t.from,t.to,t.direction,t.navigationType,t.sourceElement,t.info,t.newDocument,t.signal),this.direction=t.direction,this.viewTransition=e,this.swap=()=>m(this.newDocument),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function v(t,e,n,o,r,a,i,s,c){const l=new h(t,e,n,o,r,a,window.document,i,s,c);var d;return document.dispatchEvent(l)&&(await l.loader(),l.defaultPrevented||(d="astro:after-preparation",document.dispatchEvent(new Event(d)),"traverse"!==l.navigationType&&w({scrollX:scrollX,scrollY:scrollY}))),l}const w=t=>{history.state&&(history.scrollRestoration="manual",history.replaceState({...history.state,...t},""))},b=!!document.startViewTransition,y=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),g=(t,e)=>t.pathname===e.pathname&&t.search===e.search;let E,T,A;const S=t=>document.dispatchEvent(new Event(t)),L=()=>S("astro:page-load"),D="data-astro-transition-persist",x="data-astro-transition",k="data-astro-transition-fallback";let P,R=0;function X(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}history.state?(R=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):y()&&(history.replaceState({index:R,scrollX:scrollX,scrollY:scrollY},""),history.scrollRestoration="manual");const Y=(t,e,n,o,r)=>{const a=g(e,t),i=document.title;document.title=o;let s=!1;if(t.href!==location.href&&!r)if("replace"===n.history){const e=history.state;history.replaceState({...n.state,index:e.index,scrollX:e.scrollX,scrollY:e.scrollY},"",t.href)}else history.pushState({...n.state,index:++R,scrollX:0,scrollY:0},"",t.href);if(document.title=i,A=t,a||(scrollTo({left:0,top:0,behavior:"instant"}),s=!0),r)scrollTo(r.scrollX,r.scrollY);else{if(t.hash){history.scrollRestoration="auto";const e=history.state;location.href=t.href,history.state||(history.replaceState(e,""),a&&window.dispatchEvent(new PopStateEvent("popstate")))}else s||scrollTo({left:0,top:0,behavior:"instant"});history.scrollRestoration="manual"}};async function H(t,e,n,o,r){async function a(t){const e=document.getAnimations();document.documentElement.setAttribute(k,t);const n=document.getAnimations().filter(t=>!e.includes(t)&&!function(t){const e=t.effect;return!!(e&&e instanceof KeyframeEffect&&e.target)&&"infinite"===window.getComputedStyle(e.target,e.pseudoElement).animationIterationCount}(t));return Promise.allSettled(n.map(t=>t.finished))}const i=document.title,s=await async function(t,e,n){const o=new p(t,e);return document.dispatchEvent(o),n&&await n(),o.swap(),o}(t,n.viewTransition,async()=>{if("animate"===r&&!n.transitionSkipped&&!t.signal.aborted)try{await a("old")}catch{}});Y(s.to,s.from,e,i,o),S("astro:after-swap"),"animate"===r&&(n.transitionSkipped||s.signal.aborted?n.viewTransitionFinished():a("new").finally(()=>n.viewTransitionFinished()))}async function M(e,n,o,r,a){const i=(E?.controller.abort(),E={controller:new AbortController});if(!y()||location.origin!==o.origin)return i===E&&(E=void 0),void(location.href=o.href);const s=a?"traverse":"replace"===r.history?"replace":"push";if("traverse"!==s&&w({scrollX:scrollX,scrollY:scrollY}),g(n,o)&&!r.formData&&("back"!==e&&o.hash||"back"===e&&n.hash))return Y(o,n,r,document.title,a),void(i===E&&(E=void 0));const c=await v(n,o,e,s,r.sourceElement,r.info,i.controller.signal,r.formData,async function(e){const o=e.to.href,r={signal:e.signal};if(e.formData){r.method="POST";const t=e.sourceElement instanceof HTMLFormElement?e.sourceElement:e.sourceElement instanceof HTMLElement&&"form"in e.sourceElement?e.sourceElement.form:e.sourceElement?.closest("form");r.body=void 0!==n&&"application/x-www-form-urlencoded"===Reflect.get(HTMLFormElement.prototype,"attributes",t).getNamedItem("enctype")?.value?new URLSearchParams(e.formData):e.formData}const a=await async function(e,n){try{const o=new Headers(n?.headers);for(const[e,n]of Object.entries(t))o.set(e,n);const r=await fetch(e,{...n,headers:o}),a=(r.headers.get("content-type")??"").split(";",1)[0].trim();return"text/html"!==a&&"application/xhtml+xml"!==a?null:{html:await r.text(),redirected:r.redirected?r.url:void 0,mediaType:a}}catch{return null}}(o,r);if(null===a)return void e.preventDefault();if(a.redirected){const t=new URL(a.redirected);if(t.origin!==e.to.origin)return void e.preventDefault();e.to=t}if(P??=new DOMParser,e.newDocument=P.parseFromString(a.html,a.mediaType),e.newDocument.querySelectorAll("noscript").forEach(t=>t.remove()),!e.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!e.formData)return void e.preventDefault();const i=function(t){const e=[];for(const n of t.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${D}="${n.getAttribute(D)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const t=document.createElement("link");t.setAttribute("rel","preload"),t.setAttribute("as","style"),t.setAttribute("href",n.getAttribute("href")),e.push(new Promise(e=>{["load","error"].forEach(n=>t.addEventListener(n,e)),document.head.append(t)}))}return e}(e.newDocument);i.length&&!e.signal.aborted&&await Promise.all(i)});if(c.defaultPrevented||c.signal.aborted)return i===E&&(E=void 0),void(c.signal.aborted||(location.href=o.href));const l=await async function(){if(T&&T.viewTransition){try{T.viewTransition.skipTransition()}catch{}try{await T.viewTransition.updateCallbackDone}catch{}}return T={transitionSkipped:!1}}();if(c.signal.aborted)i===E&&(E=void 0);else{if(document.documentElement.setAttribute(x,c.direction),b)l.viewTransition=document.startViewTransition(async()=>await H(c,r,l,a));else{const t=(async()=>{await Promise.resolve(),await H(c,r,l,a,X())})();l.viewTransition={updateCallbackDone:t,ready:t,finished:new Promise(t=>l.viewTransitionFinished=t),skipTransition:()=>{l.transitionSkipped=!0,document.documentElement.removeAttribute(k)},types:new Set}}l.viewTransition?.updateCallbackDone.finally(async()=>{await function(){let t=Promise.resolve(),e=!1;for(const n of document.getElementsByTagName("script"))void 0===n.dataset.astroExec&&"module"===n.getAttribute("type")&&(e=null===n.getAttribute("src"));e&&document.body.insertAdjacentHTML("beforeend",'<script type="module" src="data:application/javascript,"/>');for(const n of document.getElementsByTagName("script")){if(""===n.dataset.astroExec)continue;const e=n.getAttribute("type");if(e&&"module"!==e&&"text/javascript"!==e)continue;const o=document.createElement("script");o.innerHTML=n.innerHTML;for(const r of n.attributes){if("src"===r.name){const e=new Promise(t=>{o.onload=o.onerror=t});t=t.then(()=>e)}o.setAttribute(r.name,r.value)}o.dataset.astroExec="",n.replaceWith(o)}return t}(),L(),(()=>{let t=document.createElement("div");t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),t.className="astro-route-announcer",document.body.append(t),setTimeout(()=>{let e=document.title||document.querySelector("h1")?.textContent||location.pathname;t.textContent=e},60)})()}),l.viewTransition?.finished.finally(()=>{l.viewTransition=void 0,l===T&&(T=void 0),i===E&&(E=void 0),document.documentElement.removeAttribute(x),document.documentElement.removeAttribute(k)});try{await(l.viewTransition?.updateCallbackDone)}catch(d){}}}async function q(t,e){await M("forward",A,new URL(t,location.href),e??{})}const C=()=>{!history.state||scrollX===history.state.scrollX&&scrollY===history.state.scrollY||w({scrollX:scrollX,scrollY:scrollY})};if(b||"none"!==X())if(A=new URL(location.href),addEventListener("popstate",function(t){if(!y()&&t.state)return void location.reload();if(null===t.state)return;const e=history.state,n=e.index,o=n>R?"forward":"back";R=n,M(o,A,new URL(location.href),{},e)}),addEventListener("load",L),"onscrollend"in window)addEventListener("scrollend",C);else{let t,e,n,o;const r=()=>o!==history.state?.index?(clearInterval(t),void(t=void 0)):e===scrollY&&n===scrollX?(clearInterval(t),t=void 0,void C()):(e=scrollY,void(n=scrollX));addEventListener("scroll",()=>{void 0===t&&(o=history.state?.index,e=scrollY,n=scrollX,t=window.setInterval(r,50))},{passive:!0})}for(const j of document.getElementsByTagName("script"))a(j),j.dataset.astroExec="";let U=null;function $(t){return void 0!==t.dataset.astroReload}(b||"none"!==function(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}())&&(document.addEventListener("click",t=>{let e=t.target;if(U=(t=>t.button&&0!==t.button||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)(t)?e:null,t.composed&&(e=t.composedPath()[0]),e instanceof Element&&(e=e.closest("a, area")),!(e instanceof HTMLAnchorElement||e instanceof SVGAElement||e instanceof HTMLAreaElement))return;const n=e instanceof HTMLElement?e.target:e.target.baseVal,o=e instanceof HTMLElement?e.href:e.href.baseVal,r=new URL(o,location.href).origin;$(e)||e.hasAttribute("download")||!e.href||n&&"_self"!==n||r!==location.origin||U||t.defaultPrevented||(t.preventDefault(),q(o,{history:"replace"===e.dataset.astroHistory?"replace":"auto",sourceElement:e}))}),document.addEventListener("submit",t=>{let e=t.target;const n=t.submitter,o=n&&n===U;if(U=null,"FORM"!==e.tagName||t.defaultPrevented||$(e)||o)return;const r=e,a=new FormData(r,n),i="string"==typeof r.action?r.action:r.getAttribute("action"),s="string"==typeof r.method?r.method:r.getAttribute("method");let c=n?.getAttribute("formaction")??i??location.pathname;const l=n?.getAttribute("formmethod")??s??"get";if("dialog"===l||location.origin!==new URL(c,location.href).origin)return;const d={sourceElement:n??r};if("get"===l){const t=new URLSearchParams(a),e=new URL(c);e.search=t.toString(),c=e.toString()}else d.formData=a;t.preventDefault(),q(c,d)}),e({prefetchAll:!0}));
